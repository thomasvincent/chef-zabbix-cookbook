# Health Check Configuration
# Generated by Chef for <%= node['fqdn'] %>
# Local modifications will be overwritten.

# Simple health check endpoint
<Location "<%= @health_check_path %>">
    SetHandler server-status
    
    # Always return 200 OK with simple response
    RewriteEngine On
    RewriteRule .* - [R=200]
    
    # Set content type to text/plain
    Header always set Content-Type "text/plain"
    
    # Static response content
    ErrorDocument 200 "<%= @health_check_content %>"
    
    # Only allow from localhost and private networks by default
    # This can be overridden at the VirtualHost level
    Require ip 127.0.0.1 ::1 10.0.0.0/8 172.16.0.0/12 192.168.0.0/16
</Location>